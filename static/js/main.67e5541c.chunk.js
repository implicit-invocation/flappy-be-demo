(this["webpackJsonpflappy-bee"]=this["webpackJsonpflappy-bee"]||[]).push([[0],{27:function(e,t,n){e.exports=n(41)},29:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),u=(n(29),n(7)),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,t=new u.EventEmitter,n=!0,a=Date.now(),r=0,c=0,i=function u(){for(r=Date.now()-a,a=Date.now(),c+=r;c>=e;)c-=e,t.emit("fixedTick",e/1e3);t.emit("tick",r/1e3),n&&requestAnimationFrame(u)};return i(),{onTick:function(e){t.addListener("tick",e)},onFixedTick:function(e){t.addListener("fixedTick",e)},getDelta:function(){return r/1e3},getFps:function(){return Math.round(1e3/r)},stop:function(){n=!1}}},o=n(14),s=n(18),p=n(16),d=n(17),f=n(1),h=n(10),w=function(e,t,n,a,r,c){var u=e.width,i=n/e.height*u,o=n,s=0;return{update:function(e){(s+=c*e)<=-i&&(s=0)},draw:function(n){for(var c=s;c<t;)n.draw(e,a+c,r,i,o),c+=i}}},l=function(e,t,n,a,c,u,i){var o;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,r.a.awrap(Object(f.a)(e,t));case 2:return o=s.sent,s.abrupt("return",w(o,n,a,c,u,i));case 4:case"end":return s.stop()}}))},v=function(){var e=[];return{add:function(t){return e.push(t)},addAll:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=0,c=n;r<c.length;r++){var u=c[r];e.push(u)}},update:function(t){var n=!0,a=!1,r=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done);n=!0){c.value.update(t)}}catch(i){a=!0,r=i}finally{try{n||null==u.return||u.return()}finally{if(a)throw r}}},draw:function(t){var n=!0,a=!1,r=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done);n=!0){c.value.draw(t)}}catch(i){a=!0,r=i}finally{try{n||null==u.return||u.return()}finally{if(a)throw r}}}}},g=function(e,t,n){var a,c,u,i,o,s,p,d,f,h,w,g,b,x;return r.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return a=v(),70,u=150,i=n-(c=100)-50,o=120,s=135,p=50,m.next=10,r.a.awrap(l(e,"./tree.png",t,70,0,n-c-70,-50));case 10:return d=m.sent,m.next=13,r.a.awrap(l(e,"./cloud.png",t,u,0,n-c-u,-20));case 13:return f=m.sent,m.next=16,r.a.awrap(l(e,"./sky.jpg",t,i,0,0,-5));case 16:return h=m.sent,m.next=19,r.a.awrap(l(e,"./house.png",t,o,0,n-c-o,-30));case 19:return w=m.sent,m.next=22,r.a.awrap(l(e,"./wire.png",t,s,0,n-c-s,-50));case 22:return g=m.sent,m.next=25,r.a.awrap(l(e,"./bike.png",t,p,0,n-c-p,-200));case 25:return b=m.sent,m.next=28,r.a.awrap(l(e,"./bike2.png",t,p,0,n-c-p,-300));case 28:return x=m.sent,a.addAll(h,f,w,g,d,b,x),m.abrupt("return",a);case 31:case"end":return m.stop()}}))},b=function(e,t,n){var a,c,u,i,o,s,p;return r.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,r.a.awrap(Object(f.a)(e,"./bee01.png"));case 2:return d.t0=d.sent,d.next=5,r.a.awrap(Object(f.a)(e,"./bee02.png"));case 5:return d.t1=d.sent,a=[d.t0,d.t1],c=[40,40],u=[120,50],i=[],o=[],s=[],p=[],d.abrupt("return",{update:function(e){if(Math.random()<.03){i.push(t),o.push(Math.random()*(n/2)+n/8),s.push(200*Math.random()+200);var a=Math.random()>.5?1:0;p.push(a)}for(var r=0;r<i.length;r++)i[r]=i[r]-s[r]*e;for(var c=i.length-1;c>=0;c--)i[c]<-u[p[c]]&&(i.splice(c,1),o.splice(c,1),s.splice(c,1),p.splice(c,1))},draw:function(e){for(var t=0;t<i.length;t++)e.draw(a[p[t]],i[t],o[t],u[p[t]],c[p[t]])}});case 14:case"end":return d.stop()}}))},x=document.getElementById("mainCanvas"),m=document.getElementById("info"),y=function(e){var t=1*e.clientWidth,n=1*e.clientHeight;return e.width===t&&e.height===n||(e.width=t,e.height=n),[t,n]},M=function(e,t,n){for(var a=[],r=e.width/t,c=e.height/n,u=0;u<t;u++)for(var i=0;i<n;i++)a.push(new d.a(e,r*u,c*i,r,c));return a};!function(){var e,t,n,a,u,d,w,v,O,j,k,F,E,I,L,T,P,C,A,B,D,S,H,J,R,_,q,K,U,W,z,G,N,Q,V,X,Y,Z,$;r.a.async((function(ee){for(;;)switch(ee.prev=ee.next){case 0:return e=y(x),t=Object(c.a)(e,2),n=t[0],a=t[1],u=x.getContext("webgl"),d=Object(o.a)(u),ee.next=5,r.a.awrap(Object(f.a)(u,"./main.png"));case 5:return w=ee.sent,v=M(w,3,1),O=Object(h.b)(.2,v),ee.next=10,r.a.awrap(Object(f.a)(u,"./pipe.png"));case 10:return j=ee.sent,ee.next=13,r.a.awrap(Object(f.a)(u,"./sign.png"));case 13:return k=ee.sent,F=300,E=300*a/n,I=Object(s.a)(F,E,n,a),L=i(),ee.next=20,r.a.awrap(g(u,F,E));case 20:return T=ee.sent,ee.next=23,r.a.awrap(b(u,F,E));case 23:return P=ee.sent,C=new p.a(x),A=100,B=F,D=F,S=[Math.random()*(E-300)+100,Math.random()*(E-300)+100],setInterval((function(){m.innerHTML="FPS: ".concat(L.getFps())}),1e3),u.clearColor(0,0,0,1),_=3e3*(R=2*(H=36))/376,q=30,K=E/3-(J=24)/2,U=600,W=1800,z=-Math.PI/6,G=210,N=5*J,Q=-U,V=function(){D=F,S[0]=Math.random()*(E-300)+100,S[1]=Math.random()*(E-300)+100,K=E/3-J/2,Z=!1,Q=-U},X=function(){Z?V():Q=-U},ee.next=47,r.a.awrap(l(u,"./base.jpg",F,A,0,E-A,-210));case 47:Y=ee.sent,C.addEventListener("touchStart",X),document.addEventListener("keydown",X),Z=!1,$=0,L.onTick((function(e){if(u.clear(u.COLOR_BUFFER_BIT),!Z){$+=e,T.update(e),Y.update(e),P.update(e),Q+=W*e,Q=Math.min(Q,U),K+=Q*e,(D-=G*e)<=-F&&(D=0,S[0]=S[1],S[1]=Math.random()*(E-3*A)+A);var t=D+.75*B;if(K>=E-A)Z=!0;else if(q<=t+R/2&&q>=t-R/2){var n=S[0];Z=K>n+N/2||K<n-N/2}}d.setProjection(I.combined),d.begin(),T.draw(d),P.draw(d),d.setColor(1,1,1,1);for(var a=0;a<S.length;a++)d.draw(j,D+.75*B+B*a-R/2,S[a]+N/2,R,_),d.draw(j,D+.75*B+B*a-R/2,S[a]-N/2-_,R,_,R/2,_/2,Math.PI),d.draw(k,D+.75*B+B*a-R/6,S[a]+N/2+R/2,R/3,R/3/128*112);Y.draw(d),O.getKeyFrame($,h.a.LOOP).draw(d,q,K,H,J,H/2,J/2,Q<0?z:Math.PI/2*Q/U),d.end()}));case 53:case"end":return ee.stop()}}))}()}},[[27,1,2]]]);
//# sourceMappingURL=main.67e5541c.chunk.js.map